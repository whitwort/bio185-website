<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <title>Tidy(ing) Data</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="site_libs/reveal.js-3.3.0.1/css/reveal.css"/>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  { background-color: #f8f8f8; }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #c4a000; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #000000; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #000000; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #000000; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="site_libs/reveal.js-3.3.0.1/css/theme/simple.css" id="theme">


  <!-- some tweaks to reveal css -->
  <style type="text/css">
    .reveal h1 { font-size: 2.0em; }
    .reveal h2 { font-size: 1.5em;  }
    .reveal h3 { font-size: 1.25em;	}
    .reveal h4 { font-size: 1em;	}

    .reveal .slides>section,
    .reveal .slides>section>section {
      padding: 0px 0px;
    }



    .reveal table {
      border-width: 1px;
      border-spacing: 2px;
      border-style: dotted;
      border-color: gray;
      border-collapse: collapse;
      font-size: 0.7em;
    }

    .reveal table th {
      border-width: 1px;
      padding-left: 10px;
      padding-right: 25px;
      font-weight: bold;
      border-style: dotted;
      border-color: gray;
    }

    .reveal table td {
      border-width: 1px;
      padding-left: 10px;
      padding-right: 25px;
      border-style: dotted;
      border-color: gray;
    }


  </style>

    <style type="text/css">code{white-space: pre;}</style>


<!-- Printing and PDF exports -->
<script id="paper-css" type="application/dynamic-css">

/* Default Print Stylesheet Template
   by Rob Glazebrook of CSSnewbie.com
   Last Updated: June 4, 2008

   Feel free (nay, compelled) to edit, append, and
   manipulate this file as you see fit. */


@media print {

	/* SECTION 1: Set default width, margin, float, and
	   background. This prevents elements from extending
	   beyond the edge of the printed page, and prevents
	   unnecessary background images from printing */
	html {
		background: #fff;
		width: auto;
		height: auto;
		overflow: visible;
	}
	body {
		background: #fff;
		font-size: 20pt;
		width: auto;
		height: auto;
		border: 0;
		margin: 0 5%;
		padding: 0;
		overflow: visible;
		float: none !important;
	}

	/* SECTION 2: Remove any elements not needed in print.
	   This would include navigation, ads, sidebars, etc. */
	.nestedarrow,
	.controls,
	.fork-reveal,
	.share-reveal,
	.state-background,
	.reveal .progress,
	.reveal .backgrounds {
		display: none !important;
	}

	/* SECTION 3: Set body font face, size, and color.
	   Consider using a serif font for readability. */
	body, p, td, li, div {
		font-size: 20pt!important;
		font-family: Georgia, "Times New Roman", Times, serif !important;
		color: #000;
	}

	/* SECTION 4: Set heading font face, sizes, and color.
	   Differentiate your headings from your body text.
	   Perhaps use a large sans-serif for distinction. */
	h1,h2,h3,h4,h5,h6 {
		color: #000!important;
		height: auto;
		line-height: normal;
		font-family: Georgia, "Times New Roman", Times, serif !important;
		text-shadow: 0 0 0 #000 !important;
		text-align: left;
		letter-spacing: normal;
	}
	/* Need to reduce the size of the fonts for printing */
	h1 { font-size: 28pt !important;  }
	h2 { font-size: 24pt !important; }
	h3 { font-size: 22pt !important; }
	h4 { font-size: 22pt !important; font-variant: small-caps; }
	h5 { font-size: 21pt !important; }
	h6 { font-size: 20pt !important; font-style: italic; }

	/* SECTION 5: Make hyperlinks more usable.
	   Ensure links are underlined, and consider appending
	   the URL to the end of the link for usability. */
	a:link,
	a:visited {
		color: #000 !important;
		font-weight: bold;
		text-decoration: underline;
	}
	/*
	.reveal a:link:after,
	.reveal a:visited:after {
		content: " (" attr(href) ") ";
		color: #222 !important;
		font-size: 90%;
	}
	*/


	/* SECTION 6: more reveal.js specific additions by @skypanther */
	ul, ol, div, p {
		visibility: visible;
		position: static;
		width: auto;
		height: auto;
		display: block;
		overflow: visible;
		margin: 0;
		text-align: left !important;
	}
	.reveal pre,
	.reveal table {
		margin-left: 0;
		margin-right: 0;
	}
	.reveal pre code {
		padding: 20px;
		border: 1px solid #ddd;
	}
	.reveal blockquote {
		margin: 20px 0;
	}
	.reveal .slides {
		position: static !important;
		width: auto !important;
		height: auto !important;

		left: 0 !important;
		top: 0 !important;
		margin-left: 0 !important;
		margin-top: 0 !important;
		padding: 0 !important;
		zoom: 1 !important;

		overflow: visible !important;
		display: block !important;

		text-align: left !important;
		-webkit-perspective: none;
		   -moz-perspective: none;
		    -ms-perspective: none;
		        perspective: none;

		-webkit-perspective-origin: 50% 50%;
		   -moz-perspective-origin: 50% 50%;
		    -ms-perspective-origin: 50% 50%;
		        perspective-origin: 50% 50%;
	}
	.reveal .slides section {
		visibility: visible !important;
		position: static !important;
		width: auto !important;
		height: auto !important;
		display: block !important;
		overflow: visible !important;

		left: 0 !important;
		top: 0 !important;
		margin-left: 0 !important;
		margin-top: 0 !important;
		padding: 60px 20px !important;
		z-index: auto !important;

		opacity: 1 !important;

		page-break-after: always !important;

		-webkit-transform-style: flat !important;
		   -moz-transform-style: flat !important;
		    -ms-transform-style: flat !important;
		        transform-style: flat !important;

		-webkit-transform: none !important;
		   -moz-transform: none !important;
		    -ms-transform: none !important;
		        transform: none !important;

		-webkit-transition: none !important;
		   -moz-transition: none !important;
		    -ms-transition: none !important;
		        transition: none !important;
	}
	.reveal .slides section.stack {
		padding: 0 !important;
	}
	.reveal section:last-of-type {
		page-break-after: avoid !important;
	}
	.reveal section .fragment {
		opacity: 1 !important;
		visibility: visible !important;

		-webkit-transform: none !important;
		   -moz-transform: none !important;
		    -ms-transform: none !important;
		        transform: none !important;
	}
	.reveal section img {
		display: block;
		margin: 15px 0px;
		background: rgba(255,255,255,1);
		border: 1px solid #666;
		box-shadow: none;
	}

	.reveal section small {
		font-size: 0.8em;
	}

}  
</script>


<script id="pdf-css" type="application/dynamic-css">
    
/**
 * This stylesheet is used to print reveal.js
 * presentations to PDF.
 *
 * https://github.com/hakimel/reveal.js#pdf-export
 */

* {
	-webkit-print-color-adjust: exact;
}

body {
	margin: 0 auto !important;
	border: 0;
	padding: 0;
	float: none !important;
	overflow: visible;
}

html {
	width: 100%;
	height: 100%;
	overflow: visible;
}

/* Remove any elements not needed in print. */
.nestedarrow,
.reveal .controls,
.reveal .progress,
.reveal .playback,
.reveal.overview,
.fork-reveal,
.share-reveal,
.state-background {
	display: none !important;
}

h1, h2, h3, h4, h5, h6 {
	text-shadow: 0 0 0 #000 !important;
}

.reveal pre code {
	overflow: hidden !important;
	font-family: Courier, 'Courier New', monospace !important;
}

ul, ol, div, p {
	visibility: visible;
	position: static;
	width: auto;
	height: auto;
	display: block;
	overflow: visible;
	margin: auto;
}
.reveal {
	width: auto !important;
	height: auto !important;
	overflow: hidden !important;
}
.reveal .slides {
	position: static;
	width: 100%;
	height: auto;

	left: auto;
	top: auto;
	margin: 0 !important;
	padding: 0 !important;

	overflow: visible;
	display: block;

	-webkit-perspective: none;
	   -moz-perspective: none;
	    -ms-perspective: none;
	        perspective: none;

	-webkit-perspective-origin: 50% 50%; /* there isn't a none/auto value but 50-50 is the default */
	   -moz-perspective-origin: 50% 50%;
	    -ms-perspective-origin: 50% 50%;
	        perspective-origin: 50% 50%;
}

.reveal .slides section {
	page-break-after: always !important;

	visibility: visible !important;
	position: relative !important;
	display: block !important;
	position: relative !important;

	margin: 0 !important;
	padding: 0 !important;
	box-sizing: border-box !important;
	min-height: 1px;

	opacity: 1 !important;

	-webkit-transform-style: flat !important;
	   -moz-transform-style: flat !important;
	    -ms-transform-style: flat !important;
	        transform-style: flat !important;

	-webkit-transform: none !important;
	   -moz-transform: none !important;
	    -ms-transform: none !important;
	        transform: none !important;
}

.reveal section.stack {
	margin: 0 !important;
	padding: 0 !important;
	page-break-after: avoid !important;
	height: auto !important;
	min-height: auto !important;
}

.reveal img {
	box-shadow: none;
}

.reveal .roll {
	overflow: visible;
	line-height: 1em;
}

/* Slide backgrounds are placed inside of their slide when exporting to PDF */
.reveal section .slide-background {
	display: block !important;
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	z-index: -1;
}

/* All elements should be above the slide-background */
.reveal section>* {
	position: relative;
	z-index: 1;
}

/* Display slide speaker notes when 'showNotes' is enabled */
.reveal .speaker-notes-pdf {
	display: block;
	width: 100%;
	max-height: none;
	left: auto;
	top: auto;
	z-index: 100;
}

/* Display slide numbers when 'slideNumber' is enabled */
.reveal .slide-number-pdf {
	display: block;
	position: absolute;
	font-size: 14px;
}

</script>


<script>
var style = document.createElement( 'style' );
style.type = 'text/css';
var style_script_id = window.location.search.match( /print-pdf/gi ) ? 'pdf-css' : 'paper-css';
var style_script = document.getElementById(style_script_id).text;
style.innerHTML = style_script;
document.getElementsByTagName('head')[0].appendChild(style);
</script>

</head>
<body>
  <div class="reveal">
    <div class="slides">

<section>
    <h1 class="title">Tidy(ing) Data</h1>
</section>

<section><section id="data" class="title-slide slide level1"><h1>Data</h1></section><section id="section" class="slide level2">
<h2></h2>
<p>The source file we’ll work with today lives here on the internet:</p>
<p><a href="https://data.giss.nasa.gov/gistemp/tabledata_v3/GLB.Ts+dSST.txt">https://data.giss.nasa.gov/gistemp/tabledata_v3/GLB.Ts+dSST.txt</a>.</p>
<p>Open it in a web browser and have a look at it in all its messy glory. Make sure you understand what the numbers mean.</p>
</section><section id="section-1" class="slide level2">
<h2></h2>
<p>Normally, we’d have three options for fetching data from a file on the internet:</p>
<ul>
<li class="fragment">Download the file to your computer and then upload it to your R Studio account using the “Upload” button on the “Files” tab.</li>
<li class="fragment">Skip the middle man and download the file directly. You can do this using the “Shell” found in the “Tools” menu.</li>
</ul>
</section><section id="section-2" class="slide level2">
<h2></h2>
<p>To download the file to your current directory in R Studio, open a Shell (this a full bash shell), and run:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="fu">wget</span> -O data/global-mean.txt https://data.giss.nasa.gov/gistemp/tabledata_v3/GLB.Ts+dSST.txt</a></code></pre></div>
<pre><code>--2019-09-05 08:50:22--  https://data.giss.nasa.gov/gistemp/tabledata_v3/GLB.Ts+dSST.txt
Resolving data.giss.nasa.gov (data.giss.nasa.gov)... 129.164.128.233, 2001:4d0:2310:230::233
Connecting to data.giss.nasa.gov (data.giss.nasa.gov)|129.164.128.233|:443... connected.
HTTP request sent, awaiting response... 200 OK
Length: 16198 (16K) [text/plain]
Saving to: ‘data/global-mean.txt’

     0K .......... .....                                      100%  592K=0.03s

2019-09-05 08:50:22 (592 KB/s) - ‘data/global-mean.txt’ saved [16198/16198]</code></pre>
<p>Note the capitol “-O”, which is specifying our output file.</p>
</section><section id="section-3" class="slide level2">
<h2></h2>
<p>Fiddle all you like with the data import wizard; you’re not going to get this file to parse correctly!</p>
</section></section>
<section><section id="cleaning-up-the-input-file" class="title-slide slide level1"><h1>Cleaning up the input file</h1></section><section id="section-4" class="slide level2">
<h2></h2>
<p>Open up the text file in RStudio by navigating to your <code>data</code> directory on the “Files” tab and clicking on it.</p>
</section><section id="section-5" class="slide level2">
<h2></h2>
<p>Hand edit it to:</p>
<ul>
<li class="fragment">Get rid of all of the header lines (1-7)</li>
<li class="fragment">Get rid of all of the blank lines and repeats of column names (eg. 23-24)</li>
<li class="fragment">Get rid of all of the footer lines (last 7)</li>
<li class="fragment">Leave a single blank line at the end of the file (should be 139).</li>
<li class="fragment">Save it <strong>AS A NEW FILE</strong>: “global-mean-clean.txt”</li>
</ul>
<p>We’ll do the rest of the clean up in R.</p>
</section></section>
<section><section id="reading-the-table" class="title-slide slide level1"><h1>Reading the table</h1></section><section id="section-6" class="slide level2">
<h2></h2>
<p>We can now use R’s <code>read.table</code> function to load the file into a table in R:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1">raw_temps &lt;-<span class="st"> </span><span class="kw">read.table</span>(<span class="st">&quot;data/global-mean-clean.txt&quot;</span>, </a>
<a class="sourceLine" id="cb3-2" data-line-number="2">                        <span class="dt">header     =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb3-3" data-line-number="3">                        <span class="dt">na.strings =</span> <span class="st">&quot;****&quot;</span></a>
<a class="sourceLine" id="cb3-4" data-line-number="4">                        )</a></code></pre></div>
</section><section id="section-7" class="slide level2">
<h2></h2>
<p>As always, let’s sanity check what kinds of vectors we have in each of our columns:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="kw">summary</span>(raw_temps)</a></code></pre></div>
<pre><code>      Year           Jan                Feb               Mar         
 Min.   :1880   Min.   :-70.0000   Min.   :-61.000   Min.   :-62.000  
 1st Qu.:1914   1st Qu.:-28.0000   1st Qu.:-24.000   1st Qu.:-24.000  
 Median :1948   Median : -4.0000   Median : -6.000   Median : -1.000  
 Mean   :1948   Mean   :  0.6934   Mean   :  2.168   Mean   :  3.781  
 3rd Qu.:1982   3rd Qu.: 27.0000   3rd Qu.: 30.000   3rd Qu.: 26.000  
 Max.   :2016   Max.   :117.0000   Max.   :135.000   Max.   :130.000  
                                                                      
      Apr               May               Jun                Jul         
 Min.   :-59.000   Min.   :-54.000   Min.   :-52.0000   Min.   :-48.000  
 1st Qu.:-26.000   1st Qu.:-25.000   1st Qu.:-25.0000   1st Qu.:-20.000  
 Median : -5.000   Median : -6.000   Median : -7.0000   Median : -5.000  
 Mean   :  1.715   Mean   :  1.248   Mean   : -0.4161   Mean   :  2.715  
 3rd Qu.: 25.000   3rd Qu.: 26.000   3rd Qu.: 16.0000   3rd Qu.: 15.000  
 Max.   :109.000   Max.   : 93.000   Max.   : 78.0000   Max.   : 83.000  
                                                                         
      Aug               Sep               Oct               Nov        
 Min.   :-51.000   Min.   :-47.000   Min.   :-55.000   Min.   :-56.00  
 1st Qu.:-20.000   1st Qu.:-17.000   1st Qu.:-19.000   1st Qu.:-19.00  
 Median : -4.000   Median : -3.000   Median : -1.000   Median : -2.00  
 Mean   :  2.978   Mean   :  4.701   Mean   :  5.328   Mean   :  3.81  
 3rd Qu.: 19.000   3rd Qu.: 20.000   3rd Qu.: 20.000   3rd Qu.: 15.00  
 Max.   : 98.000   Max.   : 90.000   Max.   :106.000   Max.   :104.00  
                                                                       
      Dec                J.D               D.N           DJF        
 Min.   :-78.0000   Min.   :-47.000   -9     :  7   Min.   :-64.00  
 1st Qu.:-25.0000   1st Qu.:-21.000   -22    :  5   1st Qu.:-25.00  
 Median : -8.0000   Median : -7.000   -10    :  4   Median : -8.50  
 Mean   :  0.5329   Mean   :  2.438   -2     :  4   Mean   :  1.11  
 3rd Qu.: 22.0000   3rd Qu.: 19.000   -25    :  4   3rd Qu.: 27.25  
 Max.   :111.0000   Max.   : 99.000   -18    :  3   Max.   :121.00  
                                      (Other):110   NA&#39;s   :1       
      MAM               JJA               SON              Year.1    
 Min.   :-56.000   Min.   :-47.000   Min.   :-47.000   Min.   :1880  
 1st Qu.:-25.000   1st Qu.:-21.000   1st Qu.:-18.000   1st Qu.:1914  
 Median : -6.000   Median : -6.000   Median : -3.000   Median :1948  
 Mean   :  2.255   Mean   :  1.737   Mean   :  4.628   Mean   :1948  
 3rd Qu.: 27.000   3rd Qu.: 16.000   3rd Qu.: 17.000   3rd Qu.:1982  
 Max.   :111.000   Max.   : 85.000   Max.   : 97.000   Max.   :2016  
                                                                     </code></pre>
</section><section id="section-8" class="slide level2">
<h2></h2>
<p>We can see <code>D.N</code> and <code>DJF</code> are messed up; why?</p>
</section></section>
<section><section id="tidy-data" class="title-slide slide level1"><h1>Tidy Data</h1></section><section id="section-9" class="slide level2">
<h2></h2>
<p>Let’s load the tidyverse:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="kw">library</span>(tidyverse)</a></code></pre></div>
</section><section id="section-10" class="slide level2">
<h2></h2>
<p>The tidyverse’s definition of Tidy Data is a table of values where:</p>
<ul>
<li class="fragment">Each row represents one and only one observation</li>
<li class="fragment">Each column represents one and only one variable</li>
<li class="fragment">ALL variables in the design get one column</li>
</ul>
</section><section id="section-11" class="slide level2">
<h2></h2>
<p>Now let’s take a moment to appreciate all of the ways in which this data set is not Tidy. It:</p>
<ul>
<li class="fragment">Uses column names to store values of <em>a</em> variable (month of observation)</li>
<li class="fragment">Uses columns differently: some are summaries of others</li>
<li class="fragment">Inexplicably, has two Year columns</li>
</ul>
</section><section id="removing-unwanted-columns" class="slide level2">
<h2>Removing unwanted columns</h2>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1">raw_temps[<span class="dv">1</span><span class="op">:</span><span class="dv">13</span>]</a></code></pre></div>
<pre><code>   Year Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec
1  1880 -30 -21 -18 -27 -14 -29 -24  -8 -17 -16 -19 -22
2  1881 -10 -14   1  -3  -4 -28  -7  -3  -9 -20 -26 -16
3  1882   9   8   1 -20 -18 -25 -11   3  -1 -23 -21 -25
4  1883 -34 -42 -18 -25 -26 -13  -9 -14 -19 -12 -21 -19
5  1884 -18 -13 -36 -36 -32 -38 -35 -27 -24 -22 -30 -30
6  1885 -66 -30 -24 -45 -42 -50 -29 -27 -19 -20 -22  -7
7  1886 -43 -46 -41 -29 -27 -39 -16 -31 -19 -25 -26 -25
8  1887 -66 -48 -32 -37 -33 -21 -19 -28 -19 -32 -25 -38
9  1888 -43 -43 -47 -28 -22 -20 -10 -11  -7   1   0 -12
10 1889 -21  14   4   4  -3 -12  -5 -18 -18 -22 -32 -31
11 1890 -48 -48 -41 -38 -48 -27 -30 -36 -36 -23 -37 -30
12 1891 -46 -49 -15 -25 -17 -22 -22 -21 -13 -24 -37  -3
13 1892 -26 -15 -36 -35 -25 -20 -28 -20 -25 -17 -49 -29
14 1893 -69 -51 -24 -32 -35 -24 -14 -24 -18 -16 -17 -38
15 1894 -55 -31 -20 -41 -30 -43 -32 -29 -23 -17 -25 -22
16 1895 -44 -42 -30 -23 -23 -25 -16 -16  -2 -11 -15 -12
17 1896 -23 -15 -29 -33 -19 -13  -6  -9  -5   4 -16 -12
18 1897 -22 -19 -12  -1   0 -12  -4  -3  -4 -10 -18 -26
19 1898  -6 -34 -55 -33 -35 -20 -22 -22 -19 -32 -35 -22
20 1899 -18 -39 -35 -21 -20 -26 -13  -4   0   0  12 -27
21 1900 -40  -8   2 -14  -6 -15  -9  -4   1   8 -13 -14
22 1901 -30  -5   5  -6 -18 -10  -9 -13 -17 -29 -17 -30
23 1902 -19  -3 -29 -27 -31 -34 -26 -28 -20 -27 -36 -46
24 1903 -27  -6 -23 -39 -41 -44 -30 -44 -43 -42 -38 -47
25 1904 -64 -55 -46 -50 -50 -49 -48 -43 -47 -35 -16 -29
26 1905 -38 -59 -25 -36 -33 -31 -25 -21 -15 -23  -8 -21
27 1906 -31 -34 -15  -2 -21 -22 -27 -19 -25 -20 -38 -18
28 1907 -44 -53 -25 -40 -46 -43 -35 -37 -32 -24 -51 -50
29 1908 -46 -36 -58 -46 -40 -39 -35 -45 -33 -43 -51 -50
30 1909 -70 -47 -52 -59 -54 -52 -43 -30 -37 -39 -31 -55
31 1910 -44 -43 -47 -39 -34 -36 -31 -34 -37 -39 -56 -69
32 1911 -64 -60 -62 -55 -51 -47 -41 -43 -38 -26 -20 -25
33 1912 -27 -13 -37 -20 -20 -26 -41 -51 -47 -55 -38 -42
34 1913 -41 -44 -44 -36 -45 -46 -34 -32 -32 -34 -18  -4
35 1914   2 -13 -23 -28 -19 -22 -24 -15 -13  -5 -20 -10
36 1915 -20  -1  -8   7  -1 -16  -3 -15 -12 -22 -12 -25
37 1916 -20 -23 -31 -25 -27 -44 -34 -27 -29 -28 -42 -78
38 1917 -46 -53 -47 -38 -48 -40 -23 -26 -18 -35 -29 -71
39 1918 -44 -33 -21 -40 -37 -28 -22 -26 -14  -3 -16 -30
40 1919 -21 -19 -25 -17 -20 -28 -21 -19 -17 -16 -29 -35
41 1920 -15 -22  -8 -26 -26 -33 -32 -29 -20 -29 -33 -47
42 1921  -4 -21 -28 -36 -36 -31 -16 -24 -16  -6 -16 -18
43 1922 -34 -44 -13 -22 -34 -32 -27 -31 -29 -33 -17 -17
44 1923 -27 -37 -32 -38 -33 -24 -29 -30 -28 -13   3  -6
45 1924 -24 -27 -12 -35 -19 -28 -27 -35 -30 -36 -23 -43
46 1925 -34 -35 -24 -25 -30 -34 -30 -19 -13 -17   3  11
47 1926  20   7  12 -15 -25 -25 -21 -11 -11 -11  -6 -30
48 1927 -28 -21 -39 -31 -25 -27 -15 -19  -6  -1  -4 -36
49 1928  -4 -12 -28 -29 -30 -41 -21 -25 -20 -19  -9 -20
50 1929 -47 -61 -34 -40 -39 -43 -33 -29 -23 -15 -14 -55
51 1930 -29 -24  -8 -26 -25 -19 -17 -11 -11  -8  14  -9
52 1931 -10 -22  -6 -21 -22  -6   1   0  -6   0 -12 -10
53 1932  13 -18 -20  -7 -22 -30 -24 -24 -11 -10 -26 -22
54 1933 -34 -32 -29 -23 -25 -32 -20 -23 -26 -24 -31 -47
55 1934 -27  -4 -31 -27 -11 -14 -11 -10 -16 -11  -1  -9
56 1935 -37  11 -13 -35 -26 -23 -19 -17 -17  -8 -29 -22
57 1936 -29 -39 -23 -20 -17 -19  -6 -12  -6  -4  -5  -4
58 1937 -11   5 -17 -17  -7  -8  -5   3  14  10   9 -12
59 1938   0  -4   5   5  -7 -17  -9  -4   3  11   1 -26
60 1939 -13 -12 -20 -12  -7  -8  -6  -5   0  -3   6  40
61 1940 -15   6  12  16   5   5  10   1  12   7  13  19
62 1941  13  23   6  11  10   4  15  14   2  24  12  14
63 1942  26   5  13  14  14  11   2  -3   0   6  13  12
64 1943  -1  22   1  13  10  -1  14   3  11  30  25  28
65 1944  41  31  34  27  26  22  23  23  31  27  12   5
66 1945  13   2  11  24  10   2   7  25  22  22  10 -10
67 1946  15   6   0  11  -4 -17  -9  -8  -2  -6  -2 -29
68 1947 -13  -8   5   4  -6   0  -6  -8 -14   6  -1 -18
69 1948   5 -13 -23  -9   8  -5 -13 -10 -10  -7  -8 -23
70 1949   9 -16  -1  -7  -9 -22 -13  -8  -8  -3  -8 -19
71 1950 -30 -26  -6 -21 -12  -6  -9 -18 -10 -20 -35 -20
72 1951 -35 -44 -19 -10  -2  -5   0   5   7   6   0  15
73 1952  16  12 -10   2  -5  -4   5   7   8  -4 -17  -2
74 1953   9  16  11  20   8   8   2   8   6   5  -5   3
75 1954 -28 -10 -12 -18 -20 -16 -16 -13  -7  -1   8 -18
76 1955  11 -21 -36 -23 -20  -8  -9   4 -13  -5 -28 -32
 [ reached &#39;max&#39; / getOption(&quot;max.print&quot;) -- omitted 61 rows ]</code></pre>
</section><section id="section-12" class="slide level2">
<h2></h2>
<p>Alternatively, we could use the <code>tidyverse</code> <code>select</code> function (useful inside of a pipe chain):</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1">raw_temps <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb9-2" data-line-number="2"><span class="st">  </span><span class="kw">select</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">13</span>)</a></code></pre></div>
<pre><code>   Year Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec
1  1880 -30 -21 -18 -27 -14 -29 -24  -8 -17 -16 -19 -22
2  1881 -10 -14   1  -3  -4 -28  -7  -3  -9 -20 -26 -16
3  1882   9   8   1 -20 -18 -25 -11   3  -1 -23 -21 -25
4  1883 -34 -42 -18 -25 -26 -13  -9 -14 -19 -12 -21 -19
5  1884 -18 -13 -36 -36 -32 -38 -35 -27 -24 -22 -30 -30
6  1885 -66 -30 -24 -45 -42 -50 -29 -27 -19 -20 -22  -7
7  1886 -43 -46 -41 -29 -27 -39 -16 -31 -19 -25 -26 -25
8  1887 -66 -48 -32 -37 -33 -21 -19 -28 -19 -32 -25 -38
9  1888 -43 -43 -47 -28 -22 -20 -10 -11  -7   1   0 -12
10 1889 -21  14   4   4  -3 -12  -5 -18 -18 -22 -32 -31
11 1890 -48 -48 -41 -38 -48 -27 -30 -36 -36 -23 -37 -30
12 1891 -46 -49 -15 -25 -17 -22 -22 -21 -13 -24 -37  -3
13 1892 -26 -15 -36 -35 -25 -20 -28 -20 -25 -17 -49 -29
14 1893 -69 -51 -24 -32 -35 -24 -14 -24 -18 -16 -17 -38
15 1894 -55 -31 -20 -41 -30 -43 -32 -29 -23 -17 -25 -22
16 1895 -44 -42 -30 -23 -23 -25 -16 -16  -2 -11 -15 -12
17 1896 -23 -15 -29 -33 -19 -13  -6  -9  -5   4 -16 -12
18 1897 -22 -19 -12  -1   0 -12  -4  -3  -4 -10 -18 -26
19 1898  -6 -34 -55 -33 -35 -20 -22 -22 -19 -32 -35 -22
20 1899 -18 -39 -35 -21 -20 -26 -13  -4   0   0  12 -27
21 1900 -40  -8   2 -14  -6 -15  -9  -4   1   8 -13 -14
22 1901 -30  -5   5  -6 -18 -10  -9 -13 -17 -29 -17 -30
23 1902 -19  -3 -29 -27 -31 -34 -26 -28 -20 -27 -36 -46
24 1903 -27  -6 -23 -39 -41 -44 -30 -44 -43 -42 -38 -47
25 1904 -64 -55 -46 -50 -50 -49 -48 -43 -47 -35 -16 -29
26 1905 -38 -59 -25 -36 -33 -31 -25 -21 -15 -23  -8 -21
27 1906 -31 -34 -15  -2 -21 -22 -27 -19 -25 -20 -38 -18
28 1907 -44 -53 -25 -40 -46 -43 -35 -37 -32 -24 -51 -50
29 1908 -46 -36 -58 -46 -40 -39 -35 -45 -33 -43 -51 -50
30 1909 -70 -47 -52 -59 -54 -52 -43 -30 -37 -39 -31 -55
31 1910 -44 -43 -47 -39 -34 -36 -31 -34 -37 -39 -56 -69
32 1911 -64 -60 -62 -55 -51 -47 -41 -43 -38 -26 -20 -25
33 1912 -27 -13 -37 -20 -20 -26 -41 -51 -47 -55 -38 -42
34 1913 -41 -44 -44 -36 -45 -46 -34 -32 -32 -34 -18  -4
35 1914   2 -13 -23 -28 -19 -22 -24 -15 -13  -5 -20 -10
36 1915 -20  -1  -8   7  -1 -16  -3 -15 -12 -22 -12 -25
37 1916 -20 -23 -31 -25 -27 -44 -34 -27 -29 -28 -42 -78
38 1917 -46 -53 -47 -38 -48 -40 -23 -26 -18 -35 -29 -71
39 1918 -44 -33 -21 -40 -37 -28 -22 -26 -14  -3 -16 -30
40 1919 -21 -19 -25 -17 -20 -28 -21 -19 -17 -16 -29 -35
41 1920 -15 -22  -8 -26 -26 -33 -32 -29 -20 -29 -33 -47
42 1921  -4 -21 -28 -36 -36 -31 -16 -24 -16  -6 -16 -18
43 1922 -34 -44 -13 -22 -34 -32 -27 -31 -29 -33 -17 -17
44 1923 -27 -37 -32 -38 -33 -24 -29 -30 -28 -13   3  -6
45 1924 -24 -27 -12 -35 -19 -28 -27 -35 -30 -36 -23 -43
46 1925 -34 -35 -24 -25 -30 -34 -30 -19 -13 -17   3  11
47 1926  20   7  12 -15 -25 -25 -21 -11 -11 -11  -6 -30
48 1927 -28 -21 -39 -31 -25 -27 -15 -19  -6  -1  -4 -36
49 1928  -4 -12 -28 -29 -30 -41 -21 -25 -20 -19  -9 -20
50 1929 -47 -61 -34 -40 -39 -43 -33 -29 -23 -15 -14 -55
51 1930 -29 -24  -8 -26 -25 -19 -17 -11 -11  -8  14  -9
52 1931 -10 -22  -6 -21 -22  -6   1   0  -6   0 -12 -10
53 1932  13 -18 -20  -7 -22 -30 -24 -24 -11 -10 -26 -22
54 1933 -34 -32 -29 -23 -25 -32 -20 -23 -26 -24 -31 -47
55 1934 -27  -4 -31 -27 -11 -14 -11 -10 -16 -11  -1  -9
56 1935 -37  11 -13 -35 -26 -23 -19 -17 -17  -8 -29 -22
57 1936 -29 -39 -23 -20 -17 -19  -6 -12  -6  -4  -5  -4
58 1937 -11   5 -17 -17  -7  -8  -5   3  14  10   9 -12
59 1938   0  -4   5   5  -7 -17  -9  -4   3  11   1 -26
60 1939 -13 -12 -20 -12  -7  -8  -6  -5   0  -3   6  40
61 1940 -15   6  12  16   5   5  10   1  12   7  13  19
62 1941  13  23   6  11  10   4  15  14   2  24  12  14
63 1942  26   5  13  14  14  11   2  -3   0   6  13  12
64 1943  -1  22   1  13  10  -1  14   3  11  30  25  28
65 1944  41  31  34  27  26  22  23  23  31  27  12   5
66 1945  13   2  11  24  10   2   7  25  22  22  10 -10
67 1946  15   6   0  11  -4 -17  -9  -8  -2  -6  -2 -29
68 1947 -13  -8   5   4  -6   0  -6  -8 -14   6  -1 -18
69 1948   5 -13 -23  -9   8  -5 -13 -10 -10  -7  -8 -23
70 1949   9 -16  -1  -7  -9 -22 -13  -8  -8  -3  -8 -19
71 1950 -30 -26  -6 -21 -12  -6  -9 -18 -10 -20 -35 -20
72 1951 -35 -44 -19 -10  -2  -5   0   5   7   6   0  15
73 1952  16  12 -10   2  -5  -4   5   7   8  -4 -17  -2
74 1953   9  16  11  20   8   8   2   8   6   5  -5   3
75 1954 -28 -10 -12 -18 -20 -16 -16 -13  -7  -1   8 -18
76 1955  11 -21 -36 -23 -20  -8  -9   4 -13  -5 -28 -32
 [ reached &#39;max&#39; / getOption(&quot;max.print&quot;) -- omitted 61 rows ]</code></pre>
</section><section id="tidy-ifiying-the-columns" class="slide level2">
<h2>Tidy-ifiying the columns</h2>
</section><section id="section-13" class="slide level2">
<h2></h2>
<p>You can find this file in RStudio: Help -&gt; Cheetsheets -&gt; Data Manipulation with dplyr and tidyr</p>
</section><section id="section-14" class="slide level2">
<h2></h2>
<p>The picture that matches what we need to do tells us it’s a <code>gather</code>:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1">global_temps &lt;-<span class="st"> </span><span class="kw">gather</span>(raw_temps[<span class="dv">1</span><span class="op">:</span><span class="dv">13</span>], <span class="dt">key =</span> <span class="st">&quot;month&quot;</span>, <span class="dt">value =</span> <span class="st">&quot;index&quot;</span>, Jan<span class="op">:</span>Dec)</a></code></pre></div>
<p>What happened there? Take a look at the table.</p>
</section><section id="section-15" class="slide level2">
<h2></h2>
<p>We can use <code>colnames</code> to update the names of our columns and <code>tolower</code> to switch strings in character vectors to all lower case:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1"><span class="kw">colnames</span>(global_temps) &lt;-<span class="st"> </span><span class="kw">tolower</span>(<span class="kw">colnames</span>(global_temps))</a></code></pre></div>
</section><section id="creating-dates" class="slide level2">
<h2>Creating dates</h2>
<h3 id="using-a-named-vector">Using a named vector</h3>
</section><section id="section-16" class="slide level2">
<h2></h2>
<p>Let’s make a vector holding month numbers:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1">month_n &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">12</span></a></code></pre></div>
</section><section id="section-17" class="slide level2">
<h2></h2>
<p>Remember what this does:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1">month_n[<span class="dv">3</span>]</a></code></pre></div>
<pre><code>[1] 3</code></pre>
</section><section id="section-18" class="slide level2">
<h2></h2>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1"><span class="kw">colnames</span>(raw_temps[<span class="dv">2</span><span class="op">:</span><span class="dv">13</span>])</a></code></pre></div>
<pre><code> [1] &quot;Jan&quot; &quot;Feb&quot; &quot;Mar&quot; &quot;Apr&quot; &quot;May&quot; &quot;Jun&quot; &quot;Jul&quot; &quot;Aug&quot; &quot;Sep&quot; &quot;Oct&quot; &quot;Nov&quot;
[12] &quot;Dec&quot;</code></pre>
</section><section id="section-19" class="slide level2">
<h2></h2>
<p>So we can do this:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" data-line-number="1"><span class="kw">names</span>(month_n) &lt;-<span class="st"> </span><span class="kw">colnames</span>(raw_temps[<span class="dv">2</span><span class="op">:</span><span class="dv">13</span>])</a></code></pre></div>
</section><section id="section-20" class="slide level2">
<h2></h2>
<p>Once you have a named vector, you can index elements by name in addition to using numeric indexes. For example:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" data-line-number="1">month_n[<span class="st">&quot;Apr&quot;</span>]</a></code></pre></div>
<pre><code>Apr 
  4 </code></pre>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" data-line-number="1">month_n[<span class="kw">c</span>(<span class="st">&quot;Apr&quot;</span>, <span class="st">&quot;Aug&quot;</span>)]</a></code></pre></div>
<pre><code>Apr Aug 
  4   8 </code></pre>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb23-1" data-line-number="1">month_n[<span class="kw">c</span>(<span class="st">&quot;Apr&quot;</span>, <span class="st">&quot;Aug&quot;</span>, <span class="st">&quot;Apr&quot;</span>)]</a></code></pre></div>
<pre><code>Apr Aug Apr 
  4   8   4 </code></pre>
</section><section id="section-21" class="slide level2">
<h2></h2>
<p>Making our month number column then becomes as easy as indexing on our months column:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb25-1" data-line-number="1">global_temps<span class="op">$</span>month_n &lt;-<span class="st"> </span>month_n[global_temps<span class="op">$</span>month]</a></code></pre></div>
<h3 id="using-the-repeat-function">Using the <code>rep</code>eat function</h3>
</section><section id="section-22" class="slide level2">
<h2></h2>
<p>If you need a new column that contains a set of values that regularly repeats, an alternative solution is to use the <code>rep</code>eat function:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb26-1" data-line-number="1"><span class="kw">rep</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">12</span>, <span class="dt">each =</span> <span class="dv">137</span>)</a></code></pre></div>
<p>The <code>each</code> argument says repeat each value 137 times.</p>
</section><section id="section-23" class="slide level2">
<h2></h2>
<p>Alternatively, we can specify a <code>times</code>:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb27-1" data-line-number="1"><span class="kw">rep</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">12</span>, <span class="dt">times =</span> <span class="dv">137</span>)</a></code></pre></div>
<pre><code>   [1]  1  2  3  4  5  6  7  8  9 10 11 12  1  2  3  4  5  6  7  8  9 10 11
  [24] 12  1  2  3  4  5  6  7  8  9 10 11 12  1  2  3  4  5  6  7  8  9 10
  [47] 11 12  1  2  3  4  5  6  7  8  9 10 11 12  1  2  3  4  5  6  7  8  9
  [70] 10 11 12  1  2  3  4  5  6  7  8  9 10 11 12  1  2  3  4  5  6  7  8
  [93]  9 10 11 12  1  2  3  4  5  6  7  8  9 10 11 12  1  2  3  4  5  6  7
 [116]  8  9 10 11 12  1  2  3  4  5  6  7  8  9 10 11 12  1  2  3  4  5  6
 [139]  7  8  9 10 11 12  1  2  3  4  5  6  7  8  9 10 11 12  1  2  3  4  5
 [162]  6  7  8  9 10 11 12  1  2  3  4  5  6  7  8  9 10 11 12  1  2  3  4
 [185]  5  6  7  8  9 10 11 12  1  2  3  4  5  6  7  8  9 10 11 12  1  2  3
 [208]  4  5  6  7  8  9 10 11 12  1  2  3  4  5  6  7  8  9 10 11 12  1  2
 [231]  3  4  5  6  7  8  9 10 11 12  1  2  3  4  5  6  7  8  9 10 11 12  1
 [254]  2  3  4  5  6  7  8  9 10 11 12  1  2  3  4  5  6  7  8  9 10 11 12
 [277]  1  2  3  4  5  6  7  8  9 10 11 12  1  2  3  4  5  6  7  8  9 10 11
 [300] 12  1  2  3  4  5  6  7  8  9 10 11 12  1  2  3  4  5  6  7  8  9 10
 [323] 11 12  1  2  3  4  5  6  7  8  9 10 11 12  1  2  3  4  5  6  7  8  9
 [346] 10 11 12  1  2  3  4  5  6  7  8  9 10 11 12  1  2  3  4  5  6  7  8
 [369]  9 10 11 12  1  2  3  4  5  6  7  8  9 10 11 12  1  2  3  4  5  6  7
 [392]  8  9 10 11 12  1  2  3  4  5  6  7  8  9 10 11 12  1  2  3  4  5  6
 [415]  7  8  9 10 11 12  1  2  3  4  5  6  7  8  9 10 11 12  1  2  3  4  5
 [438]  6  7  8  9 10 11 12  1  2  3  4  5  6  7  8  9 10 11 12  1  2  3  4
 [461]  5  6  7  8  9 10 11 12  1  2  3  4  5  6  7  8  9 10 11 12  1  2  3
 [484]  4  5  6  7  8  9 10 11 12  1  2  3  4  5  6  7  8  9 10 11 12  1  2
 [507]  3  4  5  6  7  8  9 10 11 12  1  2  3  4  5  6  7  8  9 10 11 12  1
 [530]  2  3  4  5  6  7  8  9 10 11 12  1  2  3  4  5  6  7  8  9 10 11 12
 [553]  1  2  3  4  5  6  7  8  9 10 11 12  1  2  3  4  5  6  7  8  9 10 11
 [576] 12  1  2  3  4  5  6  7  8  9 10 11 12  1  2  3  4  5  6  7  8  9 10
 [599] 11 12  1  2  3  4  5  6  7  8  9 10 11 12  1  2  3  4  5  6  7  8  9
 [622] 10 11 12  1  2  3  4  5  6  7  8  9 10 11 12  1  2  3  4  5  6  7  8
 [645]  9 10 11 12  1  2  3  4  5  6  7  8  9 10 11 12  1  2  3  4  5  6  7
 [668]  8  9 10 11 12  1  2  3  4  5  6  7  8  9 10 11 12  1  2  3  4  5  6
 [691]  7  8  9 10 11 12  1  2  3  4  5  6  7  8  9 10 11 12  1  2  3  4  5
 [714]  6  7  8  9 10 11 12  1  2  3  4  5  6  7  8  9 10 11 12  1  2  3  4
 [737]  5  6  7  8  9 10 11 12  1  2  3  4  5  6  7  8  9 10 11 12  1  2  3
 [760]  4  5  6  7  8  9 10 11 12  1  2  3  4  5  6  7  8  9 10 11 12  1  2
 [783]  3  4  5  6  7  8  9 10 11 12  1  2  3  4  5  6  7  8  9 10 11 12  1
 [806]  2  3  4  5  6  7  8  9 10 11 12  1  2  3  4  5  6  7  8  9 10 11 12
 [829]  1  2  3  4  5  6  7  8  9 10 11 12  1  2  3  4  5  6  7  8  9 10 11
 [852] 12  1  2  3  4  5  6  7  8  9 10 11 12  1  2  3  4  5  6  7  8  9 10
 [875] 11 12  1  2  3  4  5  6  7  8  9 10 11 12  1  2  3  4  5  6  7  8  9
 [898] 10 11 12  1  2  3  4  5  6  7  8  9 10 11 12  1  2  3  4  5  6  7  8
 [921]  9 10 11 12  1  2  3  4  5  6  7  8  9 10 11 12  1  2  3  4  5  6  7
 [944]  8  9 10 11 12  1  2  3  4  5  6  7  8  9 10 11 12  1  2  3  4  5  6
 [967]  7  8  9 10 11 12  1  2  3  4  5  6  7  8  9 10 11 12  1  2  3  4  5
 [990]  6  7  8  9 10 11 12  1  2  3  4
 [ reached getOption(&quot;max.print&quot;) -- omitted 644 entries ]</code></pre>
<p>Note the difference!</p>
<h3 id="lubridate">Lubridate</h3>
</section><section id="section-24" class="slide level2">
<h2></h2>
<p>Finally, we’ll use a helper function from a new package called <code>lubridate</code> to easily create a date column:</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb29-1" data-line-number="1"><span class="kw">library</span>(lubridate)</a>
<a class="sourceLine" id="cb29-2" data-line-number="2">global_temps<span class="op">$</span>date &lt;-<span class="st"> </span><span class="kw">make_date</span>(<span class="dt">year =</span> global_temps<span class="op">$</span>year, <span class="dt">month =</span> global_temps<span class="op">$</span>month_n)</a></code></pre></div>
<p>We’ll explore Dates and Times in more depth next week.</p>
</section></section>
<section><section id="analysis" class="title-slide slide level1"><h1>Analysis</h1></section><section id="section-25" class="slide level2">
<h2></h2>
<p>Now, on your own:</p>
<ul>
<li class="fragment">Plot temperature indexes as a function of time</li>
<li class="fragment">Play with <code>geom_smooth</code> to add a kernel trend line (which is this a nice approach given these data)</li>
<li class="fragment">If you’re feeling ambition try fitting a linear model to (some) of the data using <code>lm</code></li>
<li class="fragment">Make it interactive! Allow zooming on the x-axis.</li>
<li class="fragment">Go back to the <a href="https://data.giss.nasa.gov/gistemp/">source data</a> page and compare northern and southern hemisphere trends.</li>
</ul>
</section></section>
    </div>
  </div>

  <script src="site_libs/reveal.js-3.3.0.1/lib/js/head.min.js"></script>
  <script src="site_libs/reveal.js-3.3.0.1/js/reveal.js"></script>

  <script>

      // Full list of configuration options available at:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        // Push each slide change to the browser history
        history: true,
        // Vertical centering of slides
        center: true,
        // Transition style
        transition: 'default', // none/fade/slide/convex/concave/zoom
        // Transition style for full page slide backgrounds
        backgroundTransition: 'default', // none/fade/slide/convex/concave/zoom



        // Optional reveal.js plugins
        dependencies: [
        ]
      });
    </script>
  <!-- dynamically load mathjax for compatibility with self-contained -->
  <script>
    (function () {
      var script = document.createElement("script");
      script.type = "text/javascript";
      script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
      document.getElementsByTagName("head")[0].appendChild(script);
    })();
  </script>

<script>
  (function() {
    if (window.jQuery) {
      Reveal.addEventListener( 'slidechanged', function(event) {  
        window.jQuery(event.previousSlide).trigger('hidden');
        window.jQuery(event.currentSlide).trigger('shown');
      });
    }
  })();
</script>


  </body>
</html>
